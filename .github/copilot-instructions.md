# GitHub Copilot Custom Commands

Ce fichier configure le syst√®me de slash commands personnalis√©es pour GitHub Copilot.

## üéØ Syst√®me de Dispatch ‚Äî INSTRUCTION OBLIGATOIRE

**Quand l'utilisateur tape `/command`, tu DOIS :**

1. **LIRE IMM√âDIATEMENT** le fichier `.github/github-copilot-cmd/command.md` (utilise `read_file`)
2. **EX√âCUTER** les instructions contenues dans ce fichier comme si c'√©tait ton prompt principal
3. **RESPECTER** les `allowed-tools`, `validation`, `rules` d√©finis dans ce fichier
4. **EX√âCUTER TOUTES LES √âTAPES** du workflow ‚Äî ne jamais sauter d'√©tape, notamment les cr√©ations de fichiers

> ‚ö†Ô∏è **CRITIQUE** : Ne r√©ponds JAMAIS √† une commande `/xxx` sans avoir d'abord lu le fichier `xxx.md` correspondant !
>
> ‚ö†Ô∏è **CRITIQUE** : Tu DOIS ex√©cuter **TOUTES** les √©tapes du workflow. Si une √©tape demande de cr√©er un fichier (ex: CHANGENOTE), tu DOIS le faire avec `create_file`.

### Syntaxe

```
/command $ARGUMENTS
```

- `command` ‚Üí nom du fichier `.md` √† charger (sans extension)
- `$ARGUMENTS` ‚Üí param√®tres optionnels pass√©s √† la commande

---

## üìö Commandes Disponibles

| Commande            | Description                                                | Fichier               |
| ------------------- | ---------------------------------------------------------- | --------------------- |
| `/create-cmd`       | G√©n√®re une nouvelle commande personnalis√©e (mode it√©ratif) | `create-cmd.md`       |
| `/commit`           | Analyse le code et g√©n√®re un message de commit uniforme    | `commit.md`           |
| `/doc`              | Agr√®ge les CHANGENOTES en CHANGELOG versionn√©              | `doc.md`              |
| `/clean-migrations` | Archive les migrations EF par version avec FastBuild       | `clean-migrations.md` |

---

## üîß Ressources

- **Best Practices** : `.github/github-copilot-cmd/best-practices.md` ‚Äî Catalogue des bonnes pratiques par domaine
- **Exemples** : `.github/github-copilot-cmd/examples/` ‚Äî Commandes de r√©f√©rence gold-standard

---

## ‚ö° R√®gles Globales

Toutes les commandes doivent respecter ces principes :

1. **Validation des pr√©requis** ‚Äî V√©rifier les conditions avant ex√©cution
2. **Pas d'interactif** ‚Äî Aucune commande demandant une saisie utilisateur
3. **Exit silencieux** ‚Äî Si rien √† faire, terminer sans message
4. **Pas de verbose** ‚Äî Messages concis, pas de d√©tails inutiles
5. **Pas de signatures** ‚Äî Jamais de "Generated by..." ou √©quivalent
6. **Gestion des erreurs** ‚Äî Reporter les erreurs clairement, sans verbosit√©
7. **Mode --help** ‚Äî Si `$ARGUMENTS` contient `--help` ou `-h`, afficher l'aide de la commande

### Mode Help (`--help` / `-h`)

Quand l'utilisateur tape `/command --help`, afficher un r√©sum√© concis :

```
/<command> ‚Äî <description courte>

Usage:
  /command [options] [arguments]

Options:
  <liste des arguments disponibles>

Examples:
  /command                  ‚Üí comportement par d√©faut
  /command --option         ‚Üí avec option
```

> ‚ö†Ô∏è **IMPORTANT** : En mode help, NE PAS ex√©cuter la commande, juste afficher l'aide.

---

## üöÄ Cr√©ation de Nouvelles Commandes

Pour cr√©er une nouvelle commande, utiliser :

```
/create-cmd <nom-commande>
```

Le g√©n√©rateur `/create-cmd` :

- Analyse le sujet demand√©
- Propose un draft complet (Description, Allowed Tools, Validation, Workflow, Rules)
- It√®re avec l'utilisateur pour am√©liorer
- Cr√©e le fichier `.github/github-copilot-cmd/<nom>.md`
- Propose d'enrichir `best-practices.md` avec les nouveaux patterns d√©couverts
