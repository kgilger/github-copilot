# /setup ‚Äî Configuration de l'Environnement Copilot

## Description

Configure les settings VS Code pour une utilisation optimale des commandes Copilot. Affiche ou applique les param√®tres recommand√©s.

## Allowed Tools

- `read_file` ‚Äî Lire le settings.json actuel
- `replace_string_in_file` ‚Äî Modifier le settings.json (si --apply)

## Validation

Avant ex√©cution, v√©rifier :

1. [ ] Le fichier settings.json est accessible
2. [ ] Si `--apply` : demander confirmation √† l'utilisateur

## Settings Recommand√©s

```json
{
  "chat.tools.terminal.enableAutoApprove": true,
  "chat.tools.terminal.autoApprove": {
    "git": true,
    "npm": true,
    "npx": true,
    "dotnet": true,
    "ng": true,
    "Copy-Item": true,
    "Remove-Item": true,
    "New-Item": true
  },
  "chat.agent.maxRequests": 100,
  "github.copilot.nextEditSuggestions.enabled": true
}
```

## Workflow

### Mode par d√©faut (affichage)

1. Afficher les settings recommand√©s
2. Indiquer comment les appliquer manuellement
3. Proposer `/setup --apply` pour application automatique

### Mode --check

1. Lire le settings.json actuel
2. Comparer avec les settings recommand√©s
3. Afficher : ‚úì OK ou ‚úó Manquant pour chaque param√®tre

### Mode --apply

1. **Demander confirmation explicite** : "Veux-tu vraiment modifier ton settings.json ?"
2. Si oui :
   - Lire le settings.json actuel
   - Merger les settings recommand√©s (sans √©craser les existants)
   - Sauvegarder
3. Afficher le r√©sum√© des modifications

## Arguments

```
/setup $ARGUMENTS
```

| Argument | Description |
|----------|-------------|
| (vide) | Affiche les settings recommand√©s |
| `--check` ou `-c` | V√©rifie si les settings sont configur√©s |
| `--apply` ou `-a` | Applique les settings (avec confirmation) |
| `--help` ou `-h` | Affiche l'aide de la commande |

## Rules

1. **SAFE by default** ‚Äî Par d√©faut, n'applique RIEN, juste affiche
2. **Confirmation obligatoire** ‚Äî `--apply` demande toujours confirmation
3. **Merge, pas √©crasement** ‚Äî Ne pas supprimer les settings existants
4. **Chemin settings.json** ‚Äî Utiliser le chemin VS Code standard selon l'OS
5. **NO verbose** ‚Äî Messages concis
6. **NO signature** ‚Äî Pas de "Generated by..."

## Chemins settings.json

| OS | Chemin |
|----|--------|
| Windows | `%APPDATA%\Code\User\settings.json` |
| macOS | `~/Library/Application Support/Code/User/settings.json` |
| Linux | `~/.config/Code/User/settings.json` |

## Execution

- **SAFE by default** ‚Äî Mode affichage uniquement sans arguments
- **Confirmation pour --apply** ‚Äî Exception √† "no interactive" car action sensible
- **NO verbose messages** ‚Äî Juste le r√©sultat
- **NO "Generated by..." signatures**
- **If error** ‚Üí report concisely

## Output Format

**Mode par d√©faut** :
```
üìã Settings Copilot recommand√©s :

{
  "chat.tools.terminal.enableAutoApprove": true,
  "chat.tools.terminal.autoApprove": {
    "git": true,
    "npm": true,
    "npx": true,
    "dotnet": true,
    "ng": true,
    "Copy-Item": true,
    "Remove-Item": true,
    "New-Item": true
  },
  "chat.agent.maxRequests": 100,
  "github.copilot.nextEditSuggestions.enabled": true
}

‚Üí Copie ces settings dans ton settings.json
‚Üí Ou tape `/setup --apply` pour appliquer automatiquement
```

**Mode --check** :
```
üîç V√©rification des settings Copilot :

‚úì chat.tools.terminal.enableAutoApprove: true
‚úó chat.tools.terminal.autoApprove.dotnet: manquant
‚úì chat.agent.maxRequests: 100

‚Üí 1 param√®tre manquant. Tape `/setup --apply` pour corriger.
```

**Mode --apply (confirmation)** :
```
‚ö†Ô∏è Modification du settings.json

Param√®tres √† ajouter/modifier :
- chat.tools.terminal.autoApprove.dotnet: true

Confirmer ? (r√©ponds "oui" pour continuer)
```

**Mode --apply (apr√®s confirmation)** :
```
‚úì settings.json mis √† jour
  + chat.tools.terminal.autoApprove.dotnet: true
```
